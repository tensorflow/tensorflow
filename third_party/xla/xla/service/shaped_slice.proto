syntax = "proto3";

package xla;

import "xla/service/buffer_assignment.proto";
import "xla/xla_data.proto";

option java_multiple_files = true;
option java_outer_classname = "ShapedSlice";

// A shaped slice is a BufferAllocation::Slice and its shape.
message ShapedSliceProto {
  // The buffer allocation slice.
  xla.buffer_assignment.BufferAllocationSliceProto slice = 1;

  // The shape of the slice.
  xla.ShapeProto shape = 2;
}

// A nullable shaped slice is either a ShapedSlice or a nullopt. This is used
// to represent the operands and results of a thunk, where a nullopt represents
// a null pointer argument to the thunk.
message NullableShapedSliceProto {
  optional ShapedSliceProto shaped_slice = 1;
}
