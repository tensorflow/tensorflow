Auto generated patch. Do not edit or delete it, even if empty.
diff -ruN --strip-trailing-cr a/clang/lib/AST/ByteCode/Compiler.cpp b/clang/lib/AST/ByteCode/Compiler.cpp
--- a/clang/lib/AST/ByteCode/Compiler.cpp
+++ b/clang/lib/AST/ByteCode/Compiler.cpp
@@ -4803,8 +4803,7 @@
       auto &GD = GlobalBlock->getBlockDesc<GlobalInlineDescriptor>();
 
       GD.InitState = GlobalInitState::InitializerFailed;
-      if (GlobalBlock->isInitialized())
-        GlobalBlock->invokeDtor();
+      GlobalBlock->invokeDtor();
     }
   }
 
@@ -4865,8 +4864,7 @@
       auto &GD = GlobalBlock->getBlockDesc<GlobalInlineDescriptor>();
 
       GD.InitState = GlobalInitState::InitializerFailed;
-      if (GlobalBlock->isInitialized())
-        GlobalBlock->invokeDtor();
+      GlobalBlock->invokeDtor();
     }
     return false;
   }
diff -ruN --strip-trailing-cr a/clang/test/AST/ByteCode/typeid.cpp b/clang/test/AST/ByteCode/typeid.cpp
--- a/clang/test/AST/ByteCode/typeid.cpp
+++ b/clang/test/AST/ByteCode/typeid.cpp
@@ -72,16 +72,3 @@
   }
 }
 
-
-// Regression test for assertion failure in invokeDtor(). GH-173950
-namespace GH173950 {
-  struct A {
-    virtual void f();
-  };
-
-  static A &a = *new A;
-  extern A &a;
-
-  // This used to crash with: Assertion `IsInitialized' failed in invokeDtor()
-  const std::type_info &a_ti = typeid(a);
-}
