Auto generated patch. Do not edit or delete it, even if empty.
diff -ruN --strip-trailing-cr a/libc/src/__support/wchar/character_converter.h b/libc/src/__support/wchar/character_converter.h
--- a/libc/src/__support/wchar/character_converter.h
+++ b/libc/src/__support/wchar/character_converter.h
@@ -77,7 +77,8 @@
 }
 
 LIBC_INLINE int CharacterConverter::push(char8_t utf8_byte) {
-  uint8_t num_ones = static_cast<uint8_t>(cpp::countl_one(utf8_byte));
+  uint8_t num_ones =
+      static_cast<uint8_t>(cpp::countl_one(static_cast<uint8_t>(utf8_byte)));
   // Checking the first byte if first push
   if (isEmpty()) {
     // UTF-8 char has 1 byte total
diff -ruN --strip-trailing-cr a/llvm/lib/Transforms/Instrumentation/MemProfUse.cpp b/llvm/lib/Transforms/Instrumentation/MemProfUse.cpp
--- a/llvm/lib/Transforms/Instrumentation/MemProfUse.cpp
+++ b/llvm/lib/Transforms/Instrumentation/MemProfUse.cpp
@@ -910,11 +910,8 @@
 
   if (!DataAccessProf) {
     M.addModuleFlag(Module::Warning, "EnableDataAccessProf", 0U);
-    M.getContext().diagnose(DiagnosticInfoPGOProfile(
-        MemoryProfileFileName.data(),
-        StringRef("Data access profiles not found in memprof. Ignore "
-                  "-memprof-annotate-static-data-prefix."),
-        DS_Warning));
+    // FIXME: Add a diagnostic message without failing the compilation when
+    // data access profile payload is not available.
     return false;
   }
   M.addModuleFlag(Module::Warning, "EnableDataAccessProf", 1U);
diff -ruN --strip-trailing-cr a/llvm/test/CodeGen/AArch64/fptoi-256.ll b/llvm/test/CodeGen/AArch64/fptoi-256.ll
--- a/llvm/test/CodeGen/AArch64/fptoi-256.ll
+++ b/llvm/test/CodeGen/AArch64/fptoi-256.ll
@@ -0,0 +1,11 @@
+; RUN: llc -mtriple=aarch64 < %s
+
+define i256 @doubletosi256(double %a) {
+  %conv = fptosi double %a to i256
+  ret i256 %conv
+}
+
+define double @si256todouble(i256 %a) {
+  %conv = sitofp i256 %a to double
+  ret double %conv
+}
diff -ruN --strip-trailing-cr a/llvm/test/CodeGen/fptoi-256.ll b/llvm/test/CodeGen/fptoi-256.ll
--- a/llvm/test/CodeGen/fptoi-256.ll
+++ b/llvm/test/CodeGen/fptoi-256.ll
@@ -1,12 +0,0 @@
-; REQUIRES: aarch64-registered-target
-; RUN: llc -mtriple=aarch64 < %s
-
-define i256 @doubletosi256(double %a) {
-  %conv = fptosi double %a to i256
-  ret i256 %conv
-}
-
-define double @si256todouble(i256 %a) {
-  %conv = sitofp i256 %a to double
-  ret double %conv
-}
