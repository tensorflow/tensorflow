<!-- ################        DO NOT EDIT THIS FILE.          ################# -->
<!-- ################                                        ################# -->
<!-- ################          IT IS GENERATED.              ################# -->
<!-- ################                                        ################# -->
<!-- ################   INSTEAD EDIT THE JAVADOC COMMENTS.   ################# -->
<!DOCTYPE html>

<html devsite="">
<head>
<title>TensorAudio</title>
<link href="/api_docs/java/reference/screen.css" rel="stylesheet"/>
<meta content="reference" name="page_type"/></head>
<body>
<div style="width:720px">
<div id="api-info-block">
<div class="api-level">
</div>
</div><!-- end api-info-block -->
<!-- ======== START OF CLASS DATA ======== -->
<div id="jd-header">
      public     class
      <b>TensorAudio</b>
</div><!-- end jd-header -->
<div id="naMessage"></div>
<div id="jd-content">
<div class="jd-descr">
<p>Defines a ring buffer and some utility functions to prepare the input audio samples.

 <p>It maintains a <a href="https://en.wikipedia.org/wiki/Circular_buffer">Ring Buffer</a> to hold
 input audio data. Clients could feed input audio data via `load` methods and access the
 aggregated audio samples via `getTensorBuffer` method.

 <p>Note that this class can only handle input audio in Float (in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT">AudioFormat.ENCODING_PCM_16BIT</a></code>) or Short (in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_FLOAT">AudioFormat.ENCODING_PCM_FLOAT</a></code>). Internally it converts and stores all the audio
 samples in PCM Float encoding.

 <p>Typical usage in Kotlin

 <pre>
   val tensor = TensorAudio.create(format, modelInputLength)
   tensor.load(newData)
   interpreter.run(tensor.getTensorBuffer(), outputBuffer);
 </pre>
<p>Another sample usage with <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code>
<pre>
   val tensor = TensorAudio.create(format, modelInputLength)
   Timer().scheduleAtFixedRate(delay, period) {
     tensor.load(audioRecord)
     interpreter.run(tensor.getTensorBuffer(), outputBuffer)
   }
 </pre>
</p>
</p></p></p></p></div><!-- jd-descr -->
<div class="jd-descr">
<section id="xml-attributes">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<h3>Nested Classes</h3>
<table class="jd-sumtable" id="nestedclasses">
<tr>
<td class="jd-typecol">
            
            
            
            
            class</td>
<td class="jd-linkcol" colspan="2"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a></td>
<td class="jd-descrcol" width="100%">Wraps a few constants describing the format of the incoming audio samples, namely number of
 channels and the sample rate.Â </td>
</tr>
</table>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<h3>Public Methods</h3>
<table class="jd-sumtable" id="pubmethods">
<tr>
<td class="jd-typecol">
                
                
                
                static
                
                <a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a>
</td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#create(AudioFormat,%20int)">create</a></span>(AudioFormat format, int sampleCounts)
                
                  <div class="jd-descrdiv">Creates a <code><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a></code> instance with a ring buffer whose size is <code>sampleCounts</code> *
 <code>format.getChannelCount()</code>.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                static
                
                <a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a>
</td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#create(org.tensorflow.lite.support.audio.TensorAudio.TensorAudioFormat,%20int)">create</a></span>(<a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a> format, int sampleCounts)
                
                  <div class="jd-descrdiv">Creates a <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code> instance with a ring buffer whose size is <code>sampleCounts</code> * <code>format.getChannels()</code>.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
<a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a>
</td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#getFormat()">getFormat</a></span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
<a href="/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.html">TensorBuffer</a>
</td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#getTensorBuffer()">getTensorBuffer</a></span>()
                
                  <div class="jd-descrdiv">Returns a float <code><a href="/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.html">TensorBuffer</a></code> holding all the available audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_FLOAT">AudioFormat.ENCODING_PCM_FLOAT</a></code> i.e.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#load(short[])">load</a></span>(short[] src)
                
                  <div class="jd-descrdiv">Converts the input audio samples <code>src</code> to ENCODING_PCM_FLOAT, then stores it in the ring
 buffer.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#load(float[],%20int,%20int)">load</a></span>(float[] src, int offsetInFloat, int sizeInFloat)
                
                  <div class="jd-descrdiv">Stores the input audio samples <code>src</code> in the ring buffer.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#load(short[],%20int,%20int)">load</a></span>(short[] src, int offsetInShort, int sizeInShort)
                
                  <div class="jd-descrdiv">Converts the input audio samples <code>src</code> to ENCODING_PCM_FLOAT, then stores it in the ring
 buffer.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                int
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#load(AudioRecord)">load</a></span>(AudioRecord record)
                
                  <div class="jd-descrdiv">Loads latest data from the <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code> in a non-blocking way.</div>
</div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad"><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html#load(float[])">load</a></span>(float[] src)
                
                  <div class="jd-descrdiv">Stores the input audio samples <code>src</code> in the ring buffer.</div>
</div>
</td>
</tr>
</table>
</section>
<!-- =========== METHOD SUMMARY ============ -->
<section id="inhmethods">
<h3>Inherited Methods</h3>
<div class="expandable">
<span class="showalways">
            From class
            java.lang.Object
          </span>
<div id="inherited-methods-java.lang.Object">
<div class="jd-inheritedLinks" id="inherited-methods-java.lang.Object-list">
</div>
<div id="inherited-methods-java.lang.Object-summary">
<table class="jd-sumtable-expando">
<tr>
<td class="jd-typecol">
                
                
                
                
                
                boolean
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">equals</span>(<a href="https://developer.android.com/reference/java/lang/Object.html">Object</a> arg0)
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                <a href="https://developer.android.com/reference/java/lang/Class.html">Class</a>&lt;?&gt;
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">getClass</span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                
                
                
                int
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">hashCode</span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">notify</span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">notifyAll</span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
<a href="https://developer.android.com/reference/java/lang/String.html">String</a>
</td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">toString</span>()
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">wait</span>(long arg0, int arg1)
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">wait</span>(long arg0)
                
              </div>
</td>
</tr>
<tr>
<td class="jd-typecol">
                
                
                final
                
                
                void
          </td>
<td class="jd-linkcol" width="100%">
<div class="jd-hang">
<span class="sympad">wait</span>()
                
              </div>
</td>
</tr>
</table>
</div>
</div>
</div>
</section>
</section><!--xml-attributes-->
<!--subcount(class.inners) || subcount(class.attrs) || ...-->
</div><!-- class="jd-descr" (end of Summary) -->
<!-- Details -->
<!-- XML Attributes -->
<!-- Enum Values -->
<!-- Constants -->
<!-- Fields -->
<!-- Public ctors -->
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Protected ctors -->
<!-- ========= METHOD DETAIL ======== -->
<!-- Public methdos -->
<section id="public-methods">
<h2>Public Methods</h2>
<a name="create(AudioFormat,%20int)"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            static
            
            
            
            <a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a>
</span>
<span class="sympad"><strong>create</strong></span>
<span class="params">(AudioFormat format, int sampleCounts)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Creates a <code><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a></code> instance with a ring buffer whose size is <code>sampleCounts</code> *
 <code>format.getChannelCount()</code>.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>format</th>
<td>the <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html">AudioFormat</a></code> required by the TFLite model. It defines
     the number of channels and sample rate.</td>
</tr>
<tr>
<th>sampleCounts</th>
<td>the number of samples to be fed into the model
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="create(org.tensorflow.lite.support.audio.TensorAudio.TensorAudioFormat,%20int)"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            static
            
            
            
            <a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.html">TensorAudio</a>
</span>
<span class="sympad"><strong>create</strong></span>
<span class="params">(<a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a> format, int sampleCounts)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Creates a <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code> instance with a ring buffer whose size is <code>sampleCounts</code> * <code>format.getChannels()</code>.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>format</th>
<td>the expected <code><a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a></code> of audio data loaded into this class.</td>
</tr>
<tr>
<th>sampleCounts</th>
<td>the number of samples to be fed into the model
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="getFormat()"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            <a href="/lite/api_docs/java/org/tensorflow/lite/support/audio/TensorAudio.TensorAudioFormat.html">TensorAudio.TensorAudioFormat</a>
</span>
<span class="sympad"><strong>getFormat</strong></span>
<span class="params">()</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p></p></div>
</div>
</div>
<a name="getTensorBuffer()"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            <a href="/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.html">TensorBuffer</a>
</span>
<span class="sympad"><strong>getTensorBuffer</strong></span>
<span class="params">()</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Returns a float <code><a href="/lite/api_docs/java/org/tensorflow/lite/support/tensorbuffer/TensorBuffer.html">TensorBuffer</a></code> holding all the available audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_FLOAT">AudioFormat.ENCODING_PCM_FLOAT</a></code> i.e. values are in the range of [-1, 1].
</p></div>
</div>
</div>
<a name="load(short[])"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            void
          </span>
<span class="sympad"><strong>load</strong></span>
<span class="params">(short[] src)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Converts the input audio samples <code>src</code> to ENCODING_PCM_FLOAT, then stores it in the ring
 buffer.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>src</th>
<td>input audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT">AudioFormat.ENCODING_PCM_16BIT</a></code>. For
     multi-channel input, the array is interleaved.
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="load(float[],%20int,%20int)"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            void
          </span>
<span class="sympad"><strong>load</strong></span>
<span class="params">(float[] src, int offsetInFloat, int sizeInFloat)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Stores the input audio samples <code>src</code> in the ring buffer.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>src</th>
<td>input audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_FLOAT">AudioFormat.ENCODING_PCM_FLOAT</a></code>. For
     multi-channel input, the array is interleaved.</td>
</tr>
<tr>
<th>offsetInFloat</th>
<td>starting position in the <code>src</code> array</td>
</tr>
<tr>
<th>sizeInFloat</th>
<td>the number of float values to be copied</td>
</tr>
</table>
</div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Throws</h5>
<table class="jd-tagtable">
<tr>
<th><a href="https://developer.android.com/reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></th>
<td>for incompatible audio format or incorrect input size
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="load(short[],%20int,%20int)"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            void
          </span>
<span class="sympad"><strong>load</strong></span>
<span class="params">(short[] src, int offsetInShort, int sizeInShort)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Converts the input audio samples <code>src</code> to ENCODING_PCM_FLOAT, then stores it in the ring
 buffer.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>src</th>
<td>input audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT">AudioFormat.ENCODING_PCM_16BIT</a></code>. For
     multi-channel input, the array is interleaved.</td>
</tr>
<tr>
<th>offsetInShort</th>
<td>starting position in the src array</td>
</tr>
<tr>
<th>sizeInShort</th>
<td>the number of short values to be copied</td>
</tr>
</table>
</div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Throws</h5>
<table class="jd-tagtable">
<tr>
<th><a href="https://developer.android.com/reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></th>
<td>if the source array can't be copied
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="load(AudioRecord)"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            int
          </span>
<span class="sympad"><strong>load</strong></span>
<span class="params">(AudioRecord record)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Loads latest data from the <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code> in a non-blocking way. Only
 supporting ENCODING_PCM_16BIT and ENCODING_PCM_FLOAT.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>record</th>
<td>an instance of <code><a href="https://developer.android.com/reference/android/media/AudioRecord.html">AudioRecord</a></code></td>
</tr>
</table>
</div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Returns</h5>
<ul class="nolist"><li>number of captured audio values whose size is <code>channelCount * sampleCount</code>. If
     there was no new data in the AudioRecord or an error occurred, this method will return 0.</li></ul>
</div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Throws</h5>
<table class="jd-tagtable">
<tr>
<th><a href="https://developer.android.com/reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></th>
<td>for unsupported audio encoding format</td>
</tr>
<tr>
<th><a href="https://developer.android.com/reference/java/lang/IllegalStateException.html">IllegalStateException</a></th>
<td>if reading from AudioRecord failed
</td>
</tr>
</table>
</div>
</div>
</div>
<a name="load(float[])"></a>
<div class="jd-details">
<h4 class="jd-details-title">
<span class="normal">
            public
            
            
            
            
            void
          </span>
<span class="sympad"><strong>load</strong></span>
<span class="params">(float[] src)</span>
</h4>
<div class="api-level">
<div></div>
</div>
<div class="jd-details-descr">
<div class="jd-tagdata jd-tagdescr"><p>Stores the input audio samples <code>src</code> in the ring buffer.</p></div>
<div class="jd-tagdata">
<h5 class="jd-tagtitle">Parameters</h5>
<table class="jd-tagtable">
<tr>
<th>src</th>
<td>input audio samples in <code><a href="https://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_FLOAT">AudioFormat.ENCODING_PCM_FLOAT</a></code>. For
     multi-channel input, the array is interleaved.
</td>
</tr>
</table>
</div>
</div>
</div>
</section>
<!-- ========= METHOD DETAIL ======== -->
<!-- ========= END OF CLASS DATA ========= -->
<a name="navbar_top"></a>
</div> <!-- jd-content -->
</div>
</body>
</html>
